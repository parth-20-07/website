
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Controller%20Area%20Network%20Bus%20Protocol%20ed6cdc911e1c4225a9146f5499d791d0/">
      
      
        <link rel="next" href="../EtherCAT%20Protocol%200571ae01760843789d1c31a5d548d9c9/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Design from Scratch using Custom Makefiles and Register Programming - Parth Patel's Website</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=JetBrains+Mono:300,300i,400,400i,700,700i%7CNone:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"JetBrains Mono";--md-code-font:"None"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#design-from-scratch-using-custom-makefiles-and-register-programming" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Parth Patel&#39;s Website" class="md-header__button md-logo" aria-label="Parth Patel's Website" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Parth Patel's Website
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Design from Scratch using Custom Makefiles and Register Programming
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Parth Patel&#39;s Website" class="md-nav__button md-logo" aria-label="Parth Patel's Website" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Parth Patel's Website
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Me
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Annotated Papers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Annotated Papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annotated%20Papers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotated Papers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annotated%20Papers/A%20Fast%20Map%20Merging%20Algorithm%20in%20the%20Field%20of%20Multirobot%20SLAM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A Fast Map Merging Algorithm in the Field of Multirobot SLAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annotated%20Papers/Meal%20Simulation%20Model%20of%20Glucose%20-%20Insulin%20System/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meal Simulation Model of Glucose - Insulin System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annotated%20Papers/SLAM%20and%20Map%20Merging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SLAM and Map Merging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annotated%20Papers/Swarm%20SLAM%20Challenges%20and%20Perspectives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Swarm SLAM Challenges and Perspectives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Annotated%20Papers/Swarm-SLAM%20Sparse%20Decentralized%20Collaborative%20Simultaneous%20Localization%20and%20Mapping%20Framework%20for%20Multi-Robot%20Systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Swarm-SLAM Sparse Decentralized Collaborative Simultaneous Localization and Mapping Framework for Multi-Robot Systems
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Essential Reads
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Essential Reads
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Essential%20Reads/Non-Fiction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Non-Fiction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Engineering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Engineering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Essential%20Reads/Engineering/Computer%20Science/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Computer Science and Software Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Essential%20Reads/Engineering/Control%20Systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control Systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Essential%20Reads/Engineering/Electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Essential%20Reads/Engineering/Machine%20Learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ML/DL/AI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Essential%20Reads/Engineering/Maths/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mathematics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Essential%20Reads/Engineering/Robotics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Robotics Concepts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Projects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/BFS%2C%20DFS%20and%20Djikstra%20Search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BFS, DFS and Djikstra Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/BLE%20Smart%20Switch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bluetooth Low Energy Smart Switch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/Combinational%20and%20Sampling%20Based%20Motion%20Planning%20for%20MultiAgents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Combinational and Sampling Based Motion Planning for MultiAgents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/Gearbox%20Disassembly%20using%20RRT%20Algorithm%20in%203D%20Space/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gearbox Disassembly using RRT Algorithm in 3D Space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/IMU%20Sensor%20Fusion%20for%20Attitude%20Estimation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMU Sensor Fusion for Attitude Estimation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/Inventory%20Management%20System/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inventory Management System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/Pocket%20CO2%20Monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pocket CO2 Monitor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/Pocket%20Dust%20Monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pocket Dust Monitor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Study Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Study Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Autonomous Aerial Vehicles
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Autonomous Aerial Vehicles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autonomous%20Aerial%20Vehicles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autonomous Aerial Vehicles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autonomous%20Aerial%20Vehicles/IMU%20Basics%20and%20Attitude%20Estimation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMU Basics and Attitude Estimation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autonomous%20Aerial%20Vehicles/Interpolation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interpolation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++ Programming Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            C++ Programming Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++ Programming Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Concepts/Function%20Overloading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function Overloading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Concepts/Function%20Pointers%20and%20Lambdas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function Pointers and Lambdas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Concepts/Multithreading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multithreading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Concepts/Object%20Oriented%20Programming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Object Oriented Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Concepts/Tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tips
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Keywords
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Keywords
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Keywords/Exit%20Status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exit Status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Keywords/auto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    auto
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Keywords/new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    new keyword
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Tools/Debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Tools/Makefile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Makefile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Tools/Project%20Setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Tools/Static%20Analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Static Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B%20Programming%20Guide/Tools/Testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Control Systems
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Control Systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Control%20Systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control Systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Control%20Systems/Controls%20Bootcamp%20-%20Steve%20Brunton/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controls Bootcamp - Steve Brunton
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Docker%20Networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Networking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Embedded Systems Hardware
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Embedded Systems Hardware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Embedded Systems Hardware Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/Altium%20Designer%2023d9f7bb47af48cb8436fb0335fceecc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Altium Designer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/ESD%20Protection%207e2e5a752068431e86043a5af4a55bc7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ESD Protection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/I2C%20Hardware%20Design%2048bf6c7235da4408b7bd9670fcc357df/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I2C Hardware Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/JTAG%20%28Joint%20Test%20Action%20Group%29%20d244b14cd7654562849b579552995ef6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JTAG (Joint Test Action Group)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/OpenOCD%20%28Open%20On-Chip%20Debugger%29%202931c68dc0c1419f8db13405237cb134/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenOCD (Open On-Chip Debugger)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/PCB%20Build-up%20and%20Stack-Up%20090d39b4318f4be6aba429c006fd9f92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PCB Build-up and Stack-Up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/PCB%20Silkscreen%20and%20Solder%20Mask%2013a60af4ac634240a907b43000cfad57/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PCB Silkscreen and Solder Mask
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/PCB%20Vias%207f8bc84528d841c4aebebf2898b7fa27/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PCB Vias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/Proper%20Grounding%2029c4a0aca86744a6bbf811380102f79c/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proper Grounding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/SWD%20%28Serial%20Wire%20Debug%29%207feef45b94eb419795c24bbddf9daf10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SWD (Serial Wire Debug)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Embedded%20Systems%20Hardware/Switching%20Regulators%20346c05b9fd82492e99cd88a60506af55/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switching Regulators
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" checked>
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Embedded Systems Software
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Embedded Systems Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Embedded Systems Software Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AVR-C%20Neovim%20Setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AVR-C Neovim Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Controller%20Area%20Network%20Bus%20Protocol%20ed6cdc911e1c4225a9146f5499d791d0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controller Area Network Bus Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Design from Scratch using Custom Makefiles and Register Programming
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EtherCAT%20Protocol%200571ae01760843789d1c31a5d548d9c9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EtherCAT Protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Programming%20Embedded%20Systems%20In%20C%20and%20C%2B%2B%208684f707af334cfb89afa2bdcb745ce2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programming Embedded Systems In C and C++
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Embedded%20Linux%2016f95dff9be04c84b26d8c979d48a9af/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Embedded Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/File%20System%20266e17d8fff746f0bc28349b6ba64b87/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File System
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Programming Essentials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Programming Essentials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming%20Essentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programming Essentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming%20Essentials/CI%20CD%20Pipelines%20864c3582a4b245dc915832aa22835988/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI/CD Pipelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Programming%20Essentials/Data%20Structures%20and%20Algorithms%20ca51a4645bd94330bbe5aaffab1e6d3a/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Structures and Algorithms
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reinforcement Learning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            Reinforcement Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Reinforcement%20Learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reinforcement Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Reinforcement%20Learning/Fundamentals%20of%20Reinforcement%20Learning%2047bd64c7e938492ba45a80a67d2f9486/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fundamentals of Reinforcement Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Reinforcement%20Learning/Resources%20f10e4ed2906440b09b145eff7932d85f/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Reinforcement%20Learning/Stanford%20CS234%20Reinforcement-Learning%2025155c55fb6d410583e4571b6eefbfd6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stanford CS234: Reinforcement-Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Reinforcement%20Learning/Train%20AI%20to%20Play%20Snake%20095ec04cfe95462c98d433350975a742/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Train AI to Play Snake
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rust Programming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            Rust Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rust%20Programming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rust%20Programming/Memory%20and%20Allocations%200d65715c6a974cc9ad5131ed77462335/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory and Allocations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_11" >
        
          
          <label class="md-nav__link" for="__nav_5_11" id="__nav_5_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Specific Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_11">
            <span class="md-nav__icon md-icon"></span>
            Software Specific Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Software%20Specific%20Notes/PlatformIO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PlatformIO Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="design-from-scratch-using-custom-makefiles-and-register-programming">Design from Scratch using Custom Makefiles and Register Programming<a class="headerlink" href="#design-from-scratch-using-custom-makefiles-and-register-programming" title="Permanent link">&para;</a></h1>
<p><strong><em>The complete guide was written with the MCU MSP430 in mind to be specific. Still, the process remains the same for any other MCU with simply the instruction set and compiler commands changing for specific brands of MCU.</em></strong></p>
<p><strong>Test Project is displayed here: <a href="https://github.com/parth-20-07/Micro-Sumo-Bot">parth-20-07/Micro-Sumo-Bot</a></strong></p>
<p><strong>Table of Contents</strong></p>
<h1 id="about">About<a class="headerlink" href="#about" title="Permanent link">&para;</a></h1>
<p>The complete documentation is done based on the guide provided on the YouTube channel <a href="https://www.youtube.com/playlist?list=PLS_iNJJVTtiRV0DZRDcTHnvAuDrKGPN40">Artful Bytes</a>. He has created a wonderful step-by-step video guide if you need to follow it.</p>
<h1 id="picking-parts-for-system">Picking Parts for System<a class="headerlink" href="#picking-parts-for-system" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Guide: Picking the Parts for a Small Robot</p>
<ol>
<li><strong>(Idea/Goal)</strong> List the most essential tasks for the design with the goals in mind. These are generally given by the client based on the end goal that the product needs to achieve. e.g. For a Sumo Robot, the tasks are:<ol>
<li>Locate Enemy</li>
<li>Push Enemy Out</li>
<li>Stay inside dojo</li>
</ol>
</li>
</ol>
</blockquote>
<div class="language-text highlight"><pre><span></span><code>![Design from Scratch using Custom Makefiles and Reg 6f43a806ee5b46ef9cac332e5f0fc132/Idea.png](Design from Scratch using Custom Makefiles and Reg 6f43a806ee5b46ef9cac332e5f0fc132/Idea.png)
</code></pre></div>
<ol>
<li>
<p><strong>(Requirements)</strong> Set down rigid requirements for the design. These are generally given by the client based on their feasibility or usage e.g.</p>
<ol>
<li>Side of design</li>
<li>Autonomous</li>
<li>Remote Start</li>
<li>Cannot damage other robots/platform</li>
<li>No suction</li>
<li>
<p>Battery Life should minimum be 3 mins</p>
<p><img alt="Design from Scratch using Custom Makefiles and Reg 6f43a806ee5b46ef9cac332e5f0fc132/Requirements.png" src="Requirements.png" /></p>
</li>
</ol>
</li>
<li>
<p><strong>(Design/Part Selection)</strong> Based on the goals, look for the actuators/sensors needed as input/output. Based on the needed sensors and actuators, decide on the MCU that can handle the required peripheral load and matches the power ratings.</p>
<p>A thought process can look like this when you sketch it out:</p>
<pre class="mermaid"><code>flowchart LR

A[Which Motor?, How Many?] --&gt; B{What type of motion do I need to perform}
B --&gt; |Precise| C(Servo Drive)
C --&gt; |Non-Precise| D(Continuous Drive)

E[Power to Device] --&gt; F{Device is stationary?}
F --&gt; |Stationary?|G{Constant Supply available?}
F --&gt; |Mobile?|H(DC)
G --&gt; |Yes|I(AC)
G --&gt; |NO|J(DC)</code></pre>
<p><strong><em>(This is just a sample thought process and this needs to be extended much furthur to choose each parts like sensor types and exact model based on requirements.)</em></strong></p>
<p><img alt="Design from Scratch using Custom Makefiles and Reg 6f43a806ee5b46ef9cac332e5f0fc132/Design.png" src="Design.png" /></p>
</li>
<li>
<p>Take a look at the peripherals and their datasheet to know the safety and operating power ranges (V, I and P all included) and search for interfacing circuits between MCU and Peripherals in case of different standards or limits.</p>
</li>
<li>Factors to choose MCU:<ol>
<li>Peripheral Requirments: How many GPIO/I2C/SPI, etc are needed for basic design?</li>
<li>Speed of the controller: Precise operation needs processors with higher frequency than less/none precise operations.</li>
<li>Code Size: Large Size of codes will require higher amount of Flash Memory</li>
<li>Community Support: Well documented MCU are better in terms of development as it helps in troubleshooting when you are stuck during development as many might have too before you and would had found solutions already.</li>
<li>Power: How much power does it consume and is the voltage levels too different from other peripherals such that this would need a special power circuit?</li>
<li>Price: For non-critical option, cheaper the better. For critical operations, reliability, quality and security of device functioning matters.</li>
<li>Stock: You want the chip to be easily accessible anytime you want.</li>
<li>Tools: Available tools to develop the project around the MCU.</li>
</ol>
</li>
</ol>
<aside>
💡 Tips: If you don’t have much experience with design, **Prototyping with experimentation > Prototyping with Experience**.

</aside>

<p><img alt="https://www.notion.so/Picking-Parts/Idea.png" src="https://www.notion.so/Picking-Parts/Idea.png" /></p>
<p><img alt="https://www.notion.so/Picking-Parts/Requirements.png" src="https://www.notion.so/Picking-Parts/Requirements.png" /></p>
<p><img alt="https://www.notion.so/Picking-Parts/Design.png" src="https://www.notion.so/Picking-Parts/Design.png" /></p>
<h1 id="design-choices-for-hardware">Design Choices for Hardware<a class="headerlink" href="#design-choices-for-hardware" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Guide: PCB Design Walkthrough Sumo Robot
</p>
</blockquote>
<h2 id="organization">Organization<a class="headerlink" href="#organization" title="Permanent link">&para;</a></h2>
<p>A good practise to organize the CAD Files for Hardware can be like this</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>.
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>|-- imgs
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    |-- Manufactured PCB.jpg
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    |-- Board.jpg
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    |-- Schematics.pdf
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    |-- Schematic.png
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>|-- libs
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    |-- 3d Models
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    |-- Footprints
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    |-- Symbols
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>|-- manufacture
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    |-- Version
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        |-- Assembly
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>            |-- BOM.csv
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>            |-- CPL.csv
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        |-- Gerber
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>|-- Design Files
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    |-- Schematics
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    |-- Board
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>|-- .gitignore
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>|-- LICENSE.md
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>|-- README.md
</span></code></pre></div>
<h2 id="design-choices">Design Choices<a class="headerlink" href="#design-choices" title="Permanent link">&para;</a></h2>
<h3 id="time-vs-money">Time vs Money<a class="headerlink" href="#time-vs-money" title="Permanent link">&para;</a></h3>
<p>You have to choose prototyping the design. What are you more short on? Time or Money? If - Money:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>You cannot go through many iterations, order every component you need and create a hand soldered version of the final design first to ensure minimal wastage of funds on redesign of PCB and reordering the manufactured parts.
</span></code></pre></div>
<ul>
<li>
<p>Time:</p>
<p>If you are short on time, iterate through new designs as quick as possible. Make a design, order it pre-assembled from company and test it out. If something does not function properly, patch it manually and order a new design. You do not want to waste a lot of time tinkering. Use ready made versions of modules if allowed to reduce chances of failure. Focus your time between placing order and getting the assembled PCB on writing and improving firmware.</p>
</li>
</ul>
<h3 id="pre-assembled-modules-vs-custom-design">Pre-assembled Modules vs Custom Design<a class="headerlink" href="#pre-assembled-modules-vs-custom-design" title="Permanent link">&para;</a></h3>
<p>Making a choice between designing everything in a single board vs using ready-made modules can be daunting.</p>
<ul>
<li>Pre-assembled:<ul>
<li>Go for this approach if you are short on time.</li>
<li>You have relaxed restrictions on size of the hardware. With relaxed size, a component hanging in air might not be an issue.</li>
<li>You are not using a component module which relies on sturdy communication like I2C sensors which often tend to work even in a somewhat loose Header Situation unlike SPI based SD Modules.</li>
</ul>
</li>
<li>Custom Design:<ul>
<li>When customer/client asks for a custom design to avoid any sort of legal issues.</li>
<li>You have tight board dimension restrictions</li>
<li>Weak connections can cause severe points of failures.</li>
</ul>
</li>
</ul>
<aside>
💡 Tips: Despite any choice you make while design, make sure to order the development board first before starting with any manufacturing, it allows you to have a first hand experience for trying out your firmware to ensure compatibility and noise mitigation required between MCU and peripherals.

</aside>

<h1 id="install-an-ide-and-perform-hello-world">Install an IDE and Perform Hello World<a class="headerlink" href="#install-an-ide-and-perform-hello-world" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Guide: Install and IDE and Blink an LED
</p>
</blockquote>
<p>While developing Software for embedded systems, you need to handle a lot of different programs to convert the .cpp file into binary suitable for target hardware. This work can be avoided if you use an IDE. An IDE provides a GUI based interface (generally) which will allow you to focus more on programming and less on background processes which might be great for someone who just wants to focus on Firmware and not on optimzation of backend compilation.</p>
<p>Every brand of MCU tends to have its own IDEs like:</p>
<ul>
<li>STM32CubeMX/STM32CubeIDE for STM32 Boards</li>
<li>Arduino IDE for Arduino Boards</li>
<li>CCStudio for TI Boards</li>
<li>Keil Studio is a general IDE which supports many platforms for development</li>
</ul>
<p>Test out the development board before moving forward to ensure basic peripherals of the MCU are functional using a simple blink sketch.</p>
<h2 id="makefile-toolchain-based-compilation">Makefile + Toolchain based Compilation<a class="headerlink" href="#makefile-toolchain-based-compilation" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Guide: - Microcontroller Programming without IDE (Makefile + Toolchain) - Build and
Flash your Microcontroller Project from the Command-line with a
Makefile
</p>
</blockquote>
<p><strong>Why would you even need a custom toolchain?</strong> -
Proprietary Toolchain can be expensive. - You cannot automate a lot of
processes in propriertary toolchain as they need to be done using mouse
input which might be an issue when automated testing needs to be
configured on cloud or local desktop. - Support can be limited due to
expenses or permission to user to edit it. - Less control over
compilation due to Proprietary code.</p>
<p><em>:notebook: For our usage, we are working on MSP430 here. So we
will be using the toolchains related to it. The open source alternative
that we are using is </em><em>gcc</em><em>.</em></p>
<h3 id="fetch-appropriate-toolchain">Fetch appropriate toolchain<a class="headerlink" href="#fetch-appropriate-toolchain" title="Permanent link">&para;</a></h3>
<ol>
<li>Download the gcc toolchain for MSP430 from website <a href="https://www.ti.com/tool/MSP430-GCC-OPENSOURCE">here</a>. (I
suggest to download the version with support files included. This will
avoid the hassel of setting up everything personally)</li>
<li>
<p>I tend to use multiple microcontroller so we want to seperate
toolchains from each other to avoid confusion and have an easy access.
So I tend to store my toolchains in <code>~/dev/tools/</code>
folder.</p>
<p>The zip file is downloaded in <code>~/Downloads/</code>. So:</p>
<ol>
<li>Unzip the file</li>
<li>
<p>Create a folder to store the toolchains if non-existent and move
this toolchain there.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span>mkdir<span class="w"> </span>-p<span class="w"> </span>~/dev/tools
</span></code></pre></div>
</li>
<li>
<p>Open the folder and run the file using</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>sudo<span class="w"> </span>./*.run
</span></code></pre></div>
<p>Use the <code>/dev/tools</code> as the install directory for easy
managing.</p>
</li>
<li>
<p>Add the toolchain to path.
<code>bash cd ~/dev/tools/msp430-gcc/bin/ export PATH="$PATH:$(pwd)"</code>
Doing this will add the MSP430 GCC Compiler to your path which can be
called easily using <code>msp430-elf-gcc</code> command from anywhere in
the system so you don’t need to call the file from the actual path
everytime.</p>
</li>
</ol>
</li>
</ol>
<h3 id="configure-the-toolchain">Configure the toolchain<a class="headerlink" href="#configure-the-toolchain" title="Permanent link">&para;</a></h3>
<h3 id="basic-compilation">Basic Compilation<a class="headerlink" href="#basic-compilation" title="Permanent link">&para;</a></h3>
<p>If you try to run the code:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>msp430-elf-gcc<span class="w"> </span>main.c
</span></code></pre></div>
<p>You will recieve the following error:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>main.c:53:10:<span class="w"> </span>fatal<span class="w"> </span>error:<span class="w"> </span>msp430.h:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">   </span><span class="m">53</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="c1">#include &lt;msp430.h&gt;      |          ^~~~~~~~~~compilation terminated.</span>
</span></code></pre></div>
<p>This is due to the fact the compiler does not know currently where
the headers for the chip is located. We need to provide the compiler
with those details. You can find <code>msp430.h</code> using:</p>
<h3 id="finding-the-necessary-header">Finding the Necessary Header<a class="headerlink" href="#finding-the-necessary-header" title="Permanent link">&para;</a></h3>
<p>Files</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nb">cd</span><span class="w"> </span>~/dev/tools/msp430-gcc
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>find<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;msp430.h&quot;</span>
</span></code></pre></div>
<p>This will output the relative location of the file which in this case
is:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>./include/msp430.h
</span></code></pre></div>
<p>Go to the folder where msp430 lies and get the path of the file
using:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">cd</span><span class="w"> </span>include
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nb">pwd</span>
</span></code></pre></div>
<p>This will output the absolute path of <code>msp430.h</code>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>/home/ws/dev/tools/msp430-gcc/include
</span></code></pre></div>
<p>Copy this path and go back to the folder which contained
<code>main.c</code> and use the <code>-I</code> include flag to include
this folder for compilation:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>msp430-elf-gcc<span class="w"> </span>-I<span class="w"> </span>/home/ws/dev/tools/msp430-gcc/include<span class="w"> </span>main.c
</span></code></pre></div>
<p>This will generate a new set of errors:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>msp430-elf-gcc<span class="w"> </span>-I<span class="w"> </span>/home/ws/dev/tools/msp430-gcc/include<span class="w"> </span>main.c
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>main.c:<span class="w"> </span>In<span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="s1">&#39;main&#39;</span>:
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>main.c:58:5:<span class="w"> </span>error:<span class="w"> </span><span class="s1">&#39;WDTCTL&#39;</span><span class="w"> </span>undeclared<span class="w"> </span><span class="o">(</span>first<span class="w"> </span>use<span class="w"> </span><span class="k">in</span><span class="w"> </span>this<span class="w"> </span><span class="k">function</span><span class="o">)</span><span class="w">   </span><span class="m">58</span><span class="w"> </span><span class="p">|</span><span class="w">     </span><span class="nv">WDTCTL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>WDTPW<span class="w"> </span>+<span class="w"> </span>WDTHOLD<span class="p">;</span><span class="w">                 </span>//<span class="w"> </span>Stop<span class="w"> </span>watchdog<span class="w"> </span>timer
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">      </span><span class="p">|</span><span class="w">     </span>^~~~~~main.c:58:5:<span class="w"> </span>note:<span class="w"> </span>each<span class="w"> </span>undeclared<span class="w"> </span>identifier<span class="w"> </span>is<span class="w"> </span>reported<span class="w"> </span>only<span class="w"> </span>once<span class="w"> </span><span class="k">for</span><span class="w"> </span>each<span class="w"> </span><span class="k">function</span><span class="w"> </span>it<span class="w"> </span>appears<span class="w"> </span><span class="k">in</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>main.c:58:14:<span class="w"> </span>error:<span class="w"> </span><span class="s1">&#39;WDTPW&#39;</span><span class="w"> </span>undeclared<span class="w"> </span><span class="o">(</span>first<span class="w"> </span>use<span class="w"> </span><span class="k">in</span><span class="w"> </span>this<span class="w"> </span><span class="k">function</span><span class="o">)</span><span class="w">   </span><span class="m">58</span><span class="w"> </span><span class="p">|</span><span class="w">     </span><span class="nv">WDTCTL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>WDTPW<span class="w"> </span>+<span class="w"> </span>WDTHOLD<span class="p">;</span><span class="w">                 </span>//<span class="w"> </span>Stop<span class="w"> </span>watchdog<span class="w"> </span>timer
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">      </span><span class="p">|</span><span class="w">              </span>^~~~~main.c:58:22:<span class="w"> </span>error:<span class="w"> </span><span class="s1">&#39;WDTHOLD&#39;</span><span class="w"> </span>undeclared<span class="w"> </span><span class="o">(</span>first<span class="w"> </span>use<span class="w"> </span><span class="k">in</span><span class="w"> </span>this<span class="w"> </span><span class="k">function</span><span class="o">)</span><span class="w">   </span><span class="m">58</span><span class="w"> </span><span class="p">|</span><span class="w">     </span><span class="nv">WDTCTL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>WDTPW<span class="w"> </span>+<span class="w"> </span>WDTHOLD<span class="p">;</span><span class="w">                 </span>//<span class="w"> </span>Stop<span class="w"> </span>watchdog<span class="w"> </span>timer
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">      </span><span class="p">|</span><span class="w">                      </span>^~~~~~~main.c:59:5:<span class="w"> </span>error:<span class="w"> </span><span class="s1">&#39;P1DIR&#39;</span><span class="w"> </span>undeclared<span class="w"> </span><span class="o">(</span>first<span class="w"> </span>use<span class="w"> </span><span class="k">in</span><span class="w"> </span>this<span class="w"> </span><span class="k">function</span><span class="o">)</span><span class="w">   </span><span class="m">59</span><span class="w"> </span><span class="p">|</span><span class="w">     </span>P1DIR<span class="w"> </span><span class="p">|</span><span class="o">=</span><span class="w"> </span>0x01<span class="p">;</span><span class="w">                            </span>//<span class="w"> </span>Set<span class="w"> </span>P1.0<span class="w"> </span>to<span class="w"> </span>output<span class="w"> </span>direction
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">      </span><span class="p">|</span><span class="w">     </span>^~~~~main.c:63:9:<span class="w"> </span>error:<span class="w"> </span><span class="s1">&#39;P1OUT&#39;</span><span class="w"> </span>undeclared<span class="w"> </span><span class="o">(</span>first<span class="w"> </span>use<span class="w"> </span><span class="k">in</span><span class="w"> </span>this<span class="w"> </span><span class="k">function</span><span class="o">)</span><span class="w">   </span><span class="m">63</span><span class="w"> </span><span class="p">|</span><span class="w">         </span>P1OUT<span class="w"> </span>^<span class="o">=</span><span class="w"> </span>0x01<span class="p">;</span><span class="w">                        </span>//<span class="w"> </span>Toggle<span class="w"> </span>P1.0<span class="w"> </span>using<span class="w"> </span>exclusive-OR
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">      </span><span class="p">|</span><span class="w">         </span>^~~~~
</span></code></pre></div>
<p>This are the set of declaration which are missing. This issue occurs
because when manufacturer creates a header file, they create it for a
large number of variant. MSP430 has more than 1 variant with different
internal structure. Creating seperate headers for each would be a
nightmare to manage. So, the developers used macros to segregate
specific versions of mcu from a single header file.</p>
<h3 id="specify-the-mcu-version">Specify the MCU Version<a class="headerlink" href="#specify-the-mcu-version" title="Permanent link">&para;</a></h3>
<p>Solution: - The version of mcu can be specified either by adding a
<code>#define &lt;mcu-version&gt;</code> in the msp430.h header file
which might create an issue of altering this header for all the other
firmwares using this header. - Include the mcu version flag
<code>-mmcu</code> in the compilation command using
<code>bash     msp430-elf-gcc -mmcu="msp430g2553" -I /home/ws/dev/tools/msp430-gcc/include main.c</code></p>
<p>This will solve the missing header issue but will present you with
another error similar to this:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>msp430-elf-gcc<span class="w"> </span>-mmcu<span class="o">=</span><span class="s2">&quot;msp430g2553&quot;</span><span class="w"> </span>-I<span class="w"> </span>/home/ws/dev/tools/msp430-gcc/include<span class="w"> </span>main.c
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>/home/ws/dev/tools/msp430-gcc/bin/../lib/gcc/msp430-elf/9.3.1/../../../../msp430-elf/bin/ld:<span class="w"> </span>cannot<span class="w"> </span>open<span class="w"> </span>linker<span class="w"> </span>script<span class="w"> </span>file<span class="w"> </span>msp430g2553.ld:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>collect2:<span class="w"> </span>error:<span class="w"> </span>ld<span class="w"> </span>returned<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span>status
</span></code></pre></div>
<h3 id="finding-the-linker-script">Finding the Linker Script<a class="headerlink" href="#finding-the-linker-script" title="Permanent link">&para;</a></h3>
<p>This issue occurs because the compiler though the command says which
linker script to use, it does not tell it where the linker script is
located. The linker script can be found in the same directory as
<code>msp430.h</code> and will be named specific to the mcu version. For
us, it is named: <code>msp430g2553.ld</code></p>
<p>Specify the location of linker using <code>-L</code> flag:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>msp430-elf-gcc<span class="w"> </span>-mmcu<span class="o">=</span><span class="s2">&quot;msp430g2553&quot;</span><span class="w"> </span>-I<span class="w"> </span>/home/ws/dev/tools/msp430-gcc/include<span class="w"> </span>-L<span class="w"> </span>/home/ws/dev/tools/msp430-gcc/include<span class="w"> </span>main.c
</span></code></pre></div>
<p>All the work done till now is done manually. Which means you need to
perform this process everytime you need to compile the file which can be
tiresome. We can automate this using <strong>Makefile</strong>.</p>
<h3 id="makefile">Makefile<a class="headerlink" href="#makefile" title="Permanent link">&para;</a></h3>
<h3 id="creating-a-basic-makefile">Creating a Basic Makefile<a class="headerlink" href="#creating-a-basic-makefile" title="Permanent link">&para;</a></h3>
<p>Makefile is a file which contains instructions on how to compile a
file. It is useful for following reasons: - Avoids the hassle to
manually type the command for compilation everytime. - Complex commands
can be seperated into individual smaller commands which can help you to
keep track of the process. - Avoid the hassle to compile each file
everytime by keeping track of files that are not changed which results
to quicker compilation.</p>
<p>A format of Makefile looks somewhat like this shown below: - Target:
It is the name of the process you want to execute. Can be
<code>clean</code> if you want to remove all compiled files or
<code>debug</code> if you want to compile for debugging. - Prerequisite:
This are the basic requirements that need to meet before executing the
command. This can either be any other process that needs to be completed
within the makefile or any other file that needs to exist for the
process to complete. - Recipe: The set of command that will be passed
into the actual command line when you call a target. - Rule: It is a
complete set of Target, Prerequisite and Recipe for a command to
execute.</p>
<p><img alt="https://www.notion.so/Custom-Makefile/Makefile-Intro.png" src="https://www.notion.so/Custom-Makefile/Makefile-Intro.png" /></p>
<p>Makefile Format</p>
<p>A sample Makefile can look like this:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a># Directories
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>MSP430_ROOT_DIR = ~/dev/tools/msp430-gcc
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>MSP430_HEADER_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>MSP430_LINKER_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a># Compiler
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>CC = $(MSP430_ROOT_DIR)/bin/msp430-elf-gcc
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a># Base Flags
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>MCU_FLAG = -mmcu=msp430g2553
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>WARNING_FLAGS = -Wall -Wshadow -Werror -Wextra
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>COMPILATION_FLAGS = $(WARNING_FLAGS) -Og -g
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>DEBUG_FLAGS =
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>RELEASE_FLAGS =
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a># Target
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>TARGET = blink.out
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>blink: main.c led.c
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>        $(CC) $(MCU_FLAG) -I $(MSP430_HEADER_DIR) -L $(MSP430_LINKER_DIR) $(COMPILATION_FLAGS) main.c led.c -o $(TARGET)
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>clean:
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>        rm -rf *.out
</span></code></pre></div>
<p>The variables in the start make it easier to manage paths and
directories to be reused. This helps making recipes easier to write and
handle by reducing the chance of typing error.</p>
<h3 id="improvement-by">Improvement by<a class="headerlink" href="#improvement-by" title="Permanent link">&para;</a></h3>
<p>seperating tags and Flags</p>
<p>Makefile can be improved in the following way by breaking down
variables into smaller parts. This can help you to make variables a bit
more specific which can help you to expand the functionality of
Makefile.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a># Directories
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>MSP430_ROOT_DIR = /home/ws/dev/tools/msp430-gcc
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>MSP430_INCLUDE_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>MSP430_LINKER_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>INCLUDE_DIR = $(MSP430_INCLUDE_DIR)
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>LIB_DIR = $(MSP430_LINKER_DIR)
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a># Compiler
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>CC = $(MSP430_ROOT_DIR)/bin/msp430-elf-gcc
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a># Base Flags
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>MCU_FLAG = msp430g2553
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>WARNING_FLAGS = -Wall -Wshadow -Werror -Wextra
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>COMPILER_FLAGS = $(WARNING_FLAGS) $(addprefix -I, $(INCLUDE_DIR))
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>LINKER_FLAGS = -mmcu=$(MCU_FLAG) $(addprefix -L, $(LIB_DIR))
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>DEBUG_FLAGS = -Og -g
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>RELEASE_FLAGS = -O3
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a># Target File
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>TARGET = blink
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>$(TARGET): main.c led.c
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>        $(CC) $(COMPILER_FLAGS) $(LINKER_FLAGS) main.c led.c -o $(TARGET)
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>clean:
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>        rm -rf *.out $(TARGET)
</span></code></pre></div>
<h3 id="improvement">Improvement<a class="headerlink" href="#improvement" title="Permanent link">&para;</a></h3>
<p>by seperating Compilation and Linking Stage</p>
<p>If you run the Makefile above, it will compile all .c files everytime
the code is being build. Though it may not be an issue with small
projects, as the project grows with multiple files, the compilation time
will increase. If you are building modular code, then you don’t need to
compile every file everytime since most of them will remain unchanged.
You can do this but modifying the Makefile like this:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a># Directories
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>MSP430_ROOT_DIR = /home/ws/dev/tools/msp430-gcc
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>MSP430_INCLUDE_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>MSP430_LINKER_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>INCLUDE_DIR = $(MSP430_INCLUDE_DIR)
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>LIB_DIR = $(MSP430_LINKER_DIR)
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a># Compiler
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>CC = $(MSP430_ROOT_DIR)/bin/msp430-elf-gcc
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a># Base Flags
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>MCU_FLAG = msp430g2553
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>WARNING_FLAGS = -Wall -Wshadow -Werror -Wextra
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>COMPILER_FLAGS = -mmcu=$(MCU_FLAG) $(WARNING_FLAGS) $(addprefix -I, $(INCLUDE_DIR))
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>LINKER_FLAGS = -mmcu=$(MCU_FLAG) $(addprefix -L, $(LIB_DIR))
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>DEBUG_FLAGS = -Og -g
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>RELEASE_FLAGS = -O3
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a># Target File
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>TARGET = blink
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a># Build
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a>$(TARGET): main.o led.o
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a>        $(CC) $(LINKER_FLAGS) main.o led.o -o $(TARGET)
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a># Compiling
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a>main.o: main.c
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a>        $(CC) $(COMPILER_FLAGS) -c main.c -o main.o
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>led.o: led.c
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a>        $(CC) $(COMPILER_FLAGS) -c led.c -o led.o
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a>clean:
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a>        rm -rf *.out $(TARGET)
</span></code></pre></div>
<h3 id="improvement-by-reducing">Improvement by reducing<a class="headerlink" href="#improvement-by-reducing" title="Permanent link">&para;</a></h3>
<p>Repetition</p>
<p>You might have noticed that we need to rewrite identical code to
compile <code>main.c</code> and <code>led.c</code>. This is cumbersome
when there are multiple files. To automate this process, we use
<code>Automatic variables</code> available for makefile which can do
this repetitive task for us.</p>
<ul>
<li><code>$^</code> indicates the input file. The file that is needed to
be processed with the name provided in <code>%.c</code>.</li>
<li><code>$@</code> indicates the output file. The file will be
generated with the name provided in <code>%.o</code>.</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a># Build
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>$(TARGET): main.o led.o
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>        $(CC) $(LINKER_FLAGS) $^ -o $@
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a># Compiling
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>%.o: %.c
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>        $(CC) $(COMPILER_FLAGS) -c $^ -o $@
</span></code></pre></div>
<h3 id="improvement-by_1">Improvement by<a class="headerlink" href="#improvement-by_1" title="Permanent link">&para;</a></h3>
<p>Improving File Organization</p>
<p>If you take a look in the project directory, you will notice that the
<code>.o</code> files are mixed with the project files. This makes file
navigation and management difficult. This can be improved by moving the
build files into its own folder:</p>
<ul>
<li><code>mkdir</code> creates a new directory. <code>@</code> in front
of it supresses the output in terminal and <code>p</code> allows for
making a multi-depth folder.</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a># Directories
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>MSP430_ROOT_DIR = /home/ws/dev/tools/msp430-gcc
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>MSP430_INCLUDE_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>MSP430_LINKER_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>INCLUDE_DIR = $(MSP430_INCLUDE_DIR)
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>LIB_DIR = $(MSP430_LINKER_DIR)
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>BUILD_DIR = build
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>OBJ_DIR = $(BUILD_DIR)/obj
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>BIN_DIR = $(BUILD_DIR)/bin
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a># Compiler
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>CC = $(MSP430_ROOT_DIR)/bin/msp430-elf-gcc
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a># Base Flags
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>MCU_FLAG = msp430g2553
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>WARNING_FLAGS = -Wall -Wshadow -Werror -Wextra
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>COMPILER_FLAGS = -mmcu=$(MCU_FLAG) $(WARNING_FLAGS) $(addprefix -I, $(INCLUDE_DIR))
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>LINKER_FLAGS = -mmcu=$(MCU_FLAG) $(addprefix -L, $(LIB_DIR))
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>DEBUG_FLAGS = -Og -g
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>RELEASE_FLAGS = -O3
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a># Target File
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>TARGET = $(BIN_DIR)/blink
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>SOURCES = main.c\
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>            led.c
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>OBJECTS = $(OBJ_DIR)/main.o\
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>                  $(OBJ_DIR)/led.o
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>
</span><span id="__span-18-30"><a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a># Build
</span><span id="__span-18-31"><a id="__codelineno-18-31" name="__codelineno-18-31" href="#__codelineno-18-31"></a>$(TARGET): $(OBJECTS)
</span><span id="__span-18-32"><a id="__codelineno-18-32" name="__codelineno-18-32" href="#__codelineno-18-32"></a>        @mkdir -p $(dir $@)
</span><span id="__span-18-33"><a id="__codelineno-18-33" name="__codelineno-18-33" href="#__codelineno-18-33"></a>        $(CC) $(LINKER_FLAGS) $^ -o $@
</span><span id="__span-18-34"><a id="__codelineno-18-34" name="__codelineno-18-34" href="#__codelineno-18-34"></a>
</span><span id="__span-18-35"><a id="__codelineno-18-35" name="__codelineno-18-35" href="#__codelineno-18-35"></a># Compiling
</span><span id="__span-18-36"><a id="__codelineno-18-36" name="__codelineno-18-36" href="#__codelineno-18-36"></a>$(OBJ_DIR)/%.o: %.c
</span><span id="__span-18-37"><a id="__codelineno-18-37" name="__codelineno-18-37" href="#__codelineno-18-37"></a>        @mkdir -p $(dir $@)
</span><span id="__span-18-38"><a id="__codelineno-18-38" name="__codelineno-18-38" href="#__codelineno-18-38"></a>        $(CC) $(COMPILER_FLAGS) -c $^ -o $@
</span><span id="__span-18-39"><a id="__codelineno-18-39" name="__codelineno-18-39" href="#__codelineno-18-39"></a>
</span><span id="__span-18-40"><a id="__codelineno-18-40" name="__codelineno-18-40" href="#__codelineno-18-40"></a>clean:
</span><span id="__span-18-41"><a id="__codelineno-18-41" name="__codelineno-18-41" href="#__codelineno-18-41"></a>        rm -rf $(BUILD_DIR) $(TARGET)
</span></code></pre></div>
<p>This would improve the hierarchy and make the files in following
order:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>.
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>├── blink
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>├── build
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>│   ├── bin
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>│   │   └── blink
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>│   └── obj
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>│       ├── led.o
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>│       └── main.o
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>├── Debug
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>│   ├── BlinkLED_MSP-EXP430G2ET_linkInfo.xml
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>│   ├── BlinkLED_MSP-EXP430G2ET.map
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>│   ├── BlinkLED_MSP-EXP430G2ET.out
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>│   ├── BlinkLED_MSP-EXP430G2ET.txt
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>│   ├── ccsObjs.opt
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>│   ├── main.d
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>│   ├── main.obj
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>│   ├── makefile
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>│   ├── objects.mk
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>│   ├── sources.mk
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>│   ├── subdir_rules.mk
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>│   └── subdir_vars.mk
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>├── led.c
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>├── led.h
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>├── lnk_msp430g2553.cmd
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>├── main.c
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>├── Makefile
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>└── targetConfigs
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>    ├── MSP430G2553.ccxml
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>    └── readme.txt
</span></code></pre></div>
<h3 id="improvement-by-reducing_1">Improvement by Reducing<a class="headerlink" href="#improvement-by-reducing_1" title="Permanent link">&para;</a></h3>
<p>File Repitition</p>
<p>You might have noticed that everytime we need to add a new .c file,
we need to make sure that we add it in both <code>SOURCES</code> and
<code>OBJECTS</code> variable. To avoid repetition, we can add a
substitution function there which can automatically make new
<code>OBJECTS</code> variables when new <code>SOURCES</code> are added.
This can be done by</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>SOURCES = main.c\
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>                  led.c
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>OBJECT_NAMES = $(SOURCES:.c=.o)
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>OBJECTS = $(patsubst %,$(OBJ_DIR)/%,$(OBJECT_NAMES))
</span></code></pre></div>
<ul>
<li><code>OBJECT_NAMES = $(SOURCES:.c=.o)</code> stores the names for
the .o files by looking at the list of files available in the
<code>SOURCES</code> variable with .c extension.</li>
<li><code>OBJECTS = $(patsubst %,$(OBJ_DIR)/%,$(OBJECT_NAMES))</code>
creates a path substitution where it looks for files in
<code>OBJECT_NAMES</code> variables and places them in
<code>OBJ_DIR</code> folder.</li>
</ul>
<h3 id="improvement-by-improving">Improvement by improving<a class="headerlink" href="#improvement-by-improving" title="Permanent link">&para;</a></h3>
<p>safety</p>
<p>While writing code, you might come across a situation where you might
try to create a file by name maybe <code>clean.c</code>, if you run
<code>make clean</code>, it will throw an error as the Makefile will
assume you are trying to compile the <code>clean.c</code> file rather
than clearing the compilation files. This can be avoided by adding <a href="https://www.gnu.org/software/make/manual/html_node/Phony-Targets.html"><code>Phonies</code></a>.
They are name to recipe that can be executed when made a request. They
can be specified as follows:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a># Phonies
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>.PHONY: all clean
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>all: $(TARGET)
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>clean:
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>        rm -rf $(BUILD_DIR) $(TARGET)
</span></code></pre></div>
<h3 id="improvement-on-flashing-mcu">Improvement on Flashing MCU<a class="headerlink" href="#improvement-on-flashing-mcu" title="Permanent link">&para;</a></h3>
<p>You can create a Makefile recipe to flash the MCU as follows:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a># Directories
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>## Build Directories
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>MSP430_ROOT_DIR = /home/ws/dev/tools/msp430-gcc
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>MSP430_INCLUDE_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>MSP430_LINKER_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>INCLUDE_DIR = $(MSP430_INCLUDE_DIR)
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>LIB_DIR = $(MSP430_LINKER_DIR)
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>BUILD_DIR = build
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>OBJ_DIR = $(BUILD_DIR)/obj
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>BIN_DIR = $(BUILD_DIR)/bin
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>## Debug and Flashing Directories
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>TI_CCS_DIR = /home/ws/dev/ide/CCStudio/ccs1230/ccs
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>DEBUG_BIN_DIR = $(TI_CCS_DIR)/ccs_base/DebugServer/bin
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>DEBUG_DRIVER_DIR = $(TI_CCS_DIR)/ccs_base/DebugServer/drivers
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a># Toolchain
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>CC = $(MSP430_ROOT_DIR)/bin/msp430-elf-gcc
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a>DEBUG = LD_LIBRARY_PATH=$(DEBUG_DRIVER_DIR) $(DEBUG_BIN_DIR)/mspdebug
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a># Base Flags
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a>MCU_FLAG = msp430g2553
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a>WARNING_FLAGS = -Wall -Wshadow -Werror -Wextra
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a>COMPILER_FLAGS = -mmcu=$(MCU_FLAG) $(WARNING_FLAGS) $(addprefix -I, $(INCLUDE_DIR))
</span><span id="__span-22-26"><a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a>LINKER_FLAGS = -mmcu=$(MCU_FLAG) $(addprefix -L, $(LIB_DIR))
</span><span id="__span-22-27"><a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a>DEBUG_FLAGS = -Og -g
</span><span id="__span-22-28"><a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a>RELEASE_FLAGS = -O3
</span><span id="__span-22-29"><a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a>
</span><span id="__span-22-30"><a id="__codelineno-22-30" name="__codelineno-22-30" href="#__codelineno-22-30"></a># Target File
</span><span id="__span-22-31"><a id="__codelineno-22-31" name="__codelineno-22-31" href="#__codelineno-22-31"></a>TARGET = $(BIN_DIR)/blink
</span><span id="__span-22-32"><a id="__codelineno-22-32" name="__codelineno-22-32" href="#__codelineno-22-32"></a>
</span><span id="__span-22-33"><a id="__codelineno-22-33" name="__codelineno-22-33" href="#__codelineno-22-33"></a>SOURCES = main.c\
</span><span id="__span-22-34"><a id="__codelineno-22-34" name="__codelineno-22-34" href="#__codelineno-22-34"></a>          led.c
</span><span id="__span-22-35"><a id="__codelineno-22-35" name="__codelineno-22-35" href="#__codelineno-22-35"></a>OBJECT_NAMES = $(SOURCES:.c=.o)
</span><span id="__span-22-36"><a id="__codelineno-22-36" name="__codelineno-22-36" href="#__codelineno-22-36"></a>
</span><span id="__span-22-37"><a id="__codelineno-22-37" name="__codelineno-22-37" href="#__codelineno-22-37"></a>OBJECTS = $(patsubst %,$(OBJ_DIR)/%,$(OBJECT_NAMES))
</span><span id="__span-22-38"><a id="__codelineno-22-38" name="__codelineno-22-38" href="#__codelineno-22-38"></a>
</span><span id="__span-22-39"><a id="__codelineno-22-39" name="__codelineno-22-39" href="#__codelineno-22-39"></a># Build
</span><span id="__span-22-40"><a id="__codelineno-22-40" name="__codelineno-22-40" href="#__codelineno-22-40"></a>$(TARGET): $(OBJECTS)
</span><span id="__span-22-41"><a id="__codelineno-22-41" name="__codelineno-22-41" href="#__codelineno-22-41"></a>    @mkdir -p $(dir $@)
</span><span id="__span-22-42"><a id="__codelineno-22-42" name="__codelineno-22-42" href="#__codelineno-22-42"></a>    $(CC) $(LINKER_FLAGS) $^ -o $@
</span><span id="__span-22-43"><a id="__codelineno-22-43" name="__codelineno-22-43" href="#__codelineno-22-43"></a>
</span><span id="__span-22-44"><a id="__codelineno-22-44" name="__codelineno-22-44" href="#__codelineno-22-44"></a># Compiling
</span><span id="__span-22-45"><a id="__codelineno-22-45" name="__codelineno-22-45" href="#__codelineno-22-45"></a>$(OBJ_DIR)/%.o: %.c
</span><span id="__span-22-46"><a id="__codelineno-22-46" name="__codelineno-22-46" href="#__codelineno-22-46"></a>    @mkdir -p $(dir $@)
</span><span id="__span-22-47"><a id="__codelineno-22-47" name="__codelineno-22-47" href="#__codelineno-22-47"></a>    $(CC) $(COMPILER_FLAGS) -c $^ -o $@
</span><span id="__span-22-48"><a id="__codelineno-22-48" name="__codelineno-22-48" href="#__codelineno-22-48"></a>
</span><span id="__span-22-49"><a id="__codelineno-22-49" name="__codelineno-22-49" href="#__codelineno-22-49"></a># Phonies
</span><span id="__span-22-50"><a id="__codelineno-22-50" name="__codelineno-22-50" href="#__codelineno-22-50"></a>.PHONY: all clean flash
</span><span id="__span-22-51"><a id="__codelineno-22-51" name="__codelineno-22-51" href="#__codelineno-22-51"></a>
</span><span id="__span-22-52"><a id="__codelineno-22-52" name="__codelineno-22-52" href="#__codelineno-22-52"></a>all: $(TARGET)
</span><span id="__span-22-53"><a id="__codelineno-22-53" name="__codelineno-22-53" href="#__codelineno-22-53"></a>
</span><span id="__span-22-54"><a id="__codelineno-22-54" name="__codelineno-22-54" href="#__codelineno-22-54"></a>clean:
</span><span id="__span-22-55"><a id="__codelineno-22-55" name="__codelineno-22-55" href="#__codelineno-22-55"></a>    rm -rf $(BUILD_DIR) $(TARGET)
</span><span id="__span-22-56"><a id="__codelineno-22-56" name="__codelineno-22-56" href="#__codelineno-22-56"></a>
</span><span id="__span-22-57"><a id="__codelineno-22-57" name="__codelineno-22-57" href="#__codelineno-22-57"></a>flash: $(TARGET)
</span><span id="__span-22-58"><a id="__codelineno-22-58" name="__codelineno-22-58" href="#__codelineno-22-58"></a>    $(DEBUG) tilib &quot;prog $(TARGET)&quot;
</span></code></pre></div>
<h3 id="tips">Tips<a class="headerlink" href="#tips" title="Permanent link">&para;</a></h3>
<ul>
<li>Essential Compilation Flags: <a href="https://interrupt.memfault.com/blog/best-and-worst-gcc-clang-compiler-flags">The
Best and Worst GCC Compiler Flags for Embedded</a></li>
</ul>
<h2 id="software-architecture-for">Software Architecture for<a class="headerlink" href="#software-architecture-for" title="Permanent link">&para;</a></h2>
<p>Projects</p>
<blockquote>
<p>Guide: How to Create a
Software Architecture
</p>
</blockquote>
<h3 id="base-structure">Base Structure<a class="headerlink" href="#base-structure" title="Permanent link">&para;</a></h3>
<p>A standard and modular software Architecture would look as presented
below:</p>
<pre class="mermaid"><code>flowchart LR

A[Statement] --&gt; B[Function]
B --&gt; C[Module]
C --&gt; D[Architecture]</code></pre>
<p>We need a proper architecture in our code as our development should
not focus on one time run. We create things that need to be checked,
edited and reformed. If we create a single use code, we will run into
the issue of needing to remake the complete code everytime the change
needs to be done because our earlier approach resulted in a clunky and
jumbled piece of code.</p>
<h3 id="why-a-reliable">Why a reliable<a class="headerlink" href="#why-a-reliable" title="Permanent link">&para;</a></h3>
<p>architecture required</p>
<p>A good architecture can have with: - <strong>Reasonability</strong>:
With limited brain power that we have, we want the code flow to be
simpler to understand. This can be done by combining similar code
together into a single file or module and making processes as human
readable as possible by converting a group of statements into smaller
functions. - <strong>Maintainability</strong>: Since the code is divided
into human readable format, if we need to make certain changes, moving
around and making changes becomes easier. -
<strong>Collaboration</strong>: Easy to read code makes it easier for
people to pitch in and work with it. - <strong>Reusability</strong> -
<strong>Portability</strong>: Modular code makes it easier to transfer
code between different projects easily. If you seperate platform
dependent and platform independent code, the only task left is to change
the platform dependent code when you switch platform. -
<strong>Testability</strong>: Testing individual process clubbed as
function make it easier to test rather than testing the complete
software at a single stretch where you might be not able to catch edge
cases or find exact location of fault in code.</p>
<p>A well developed software architecture might look somewhat as shown
below:</p>
<p><img alt="https://www.notion.so/Software-Architecture/Sumobot.png" src="https://www.notion.so/Software-Architecture/Sumobot.png" /></p>
<p>Sumobot Architecture</p>
<ul>
<li>Driver are hardware dependent code where changes will be needed to
be made in order to change platforms</li>
<li>Application are hardware independent code which can be ported
without significant changes.</li>
</ul>
<p>This architecture can be made once you have an idea of the
requirements you have based on the sensor/actuator requirements along
with their communication/interface protocols required for the product to
work.</p>
<h3 id="what-to">What to<a class="headerlink" href="#what-to" title="Permanent link">&para;</a></h3>
<p>keep in mind while making a good architecture</p>
<p>A good architecture will have following things in practise: -
Decoupling: Decouple code as much as possible to seperate
hardware-dependent code from application layer code. - Modularity -
Seperation of Concerns - Single Responsibility - Cohersion -
Encapsulation - Don’t repeat yourself (DRY): Make sure that the code you
make is not duplicate. A single change at a location of code should be
sufficient to implement those changes across the project rather than
making change in multiple files.</p>
<h3 id="tips_1">Tips<a class="headerlink" href="#tips_1" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://embeddedartistry.com/blog/2019/07/12/embedded-systems-architecture-resources/">Embedded
Systems Architecture Resources</a></li>
<li>Efficient Implementation of printf/sprintf for Embedded Systems: <a href="https://github.com/mpaland/printf">mpaland/printf</a></li>
</ul>
<h2 id="project-structure">Project Structure<a class="headerlink" href="#project-structure" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Guide: The Best Project
Structure for C/C++/MCU
</p>
</blockquote>
<p>A good project structure makes it easier to manage files, perform
automations and prepare documentation. The structure suggested here is
<a href="https://api.csswg.org/bikeshed/?force=1&amp;url=https%3A%2F%2Fraw.githubusercontent.com%2Fvector-of-bool%2Fpitchfork%2Fdevelop%2Fdata%2Fspec.bs">Pitchform
Layout</a>.</p>
<p>The project structure is of form:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>.
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>├── build
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>│   ├── bin
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>│   │   └── a.out
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>│   └── obj
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>│       ├── main.o
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>│       └── module1.o
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>├── data
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>├── docs
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>│   ├── Applications
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>│   └── Images
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>│       └── image1.png
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a>├── examples
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a>├── external
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>│   └── printf
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a>├── extras
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a>├── include
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a>│   ├── app
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a>│   ├── common
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a>│   │   └── defines.cpp
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a>│   ├── drivers
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a>│   ├── module1.cpp
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a>│   └── test
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a>├── libs
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a>├── LICENSE.md
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a>├── Makefile
</span><span id="__span-23-27"><a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a>├── README.md
</span><span id="__span-23-28"><a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a>├── src
</span><span id="__span-23-29"><a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a>│   ├── app
</span><span id="__span-23-30"><a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a>│   ├── common
</span><span id="__span-23-31"><a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a>│   │   └── defines.h
</span><span id="__span-23-32"><a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a>│   ├── drivers
</span><span id="__span-23-33"><a id="__codelineno-23-33" name="__codelineno-23-33" href="#__codelineno-23-33"></a>│   ├── main.cpp
</span><span id="__span-23-34"><a id="__codelineno-23-34" name="__codelineno-23-34" href="#__codelineno-23-34"></a>│   ├── module1.cpp
</span><span id="__span-23-35"><a id="__codelineno-23-35" name="__codelineno-23-35" href="#__codelineno-23-35"></a>│   └── test
</span><span id="__span-23-36"><a id="__codelineno-23-36" name="__codelineno-23-36" href="#__codelineno-23-36"></a>├── tests
</span><span id="__span-23-37"><a id="__codelineno-23-37" name="__codelineno-23-37" href="#__codelineno-23-37"></a>└── tools
</span><span id="__span-23-38"><a id="__codelineno-23-38" name="__codelineno-23-38" href="#__codelineno-23-38"></a>    └── PLACEHOLDER
</span></code></pre></div>
<h3 id="tips-and-tricks">Tips and Tricks<a class="headerlink" href="#tips-and-tricks" title="Permanent link">&para;</a></h3>
<ul>
<li>Some of the popular available Project Structure:<ul>
<li><a href="https://api.csswg.org/bikeshed/?force=1&amp;url=https%3A%2F%2Fraw.githubusercontent.com%2Fvector-of-bool%2Fpitchfork%2Fdevelop%2Fdata%2Fspec.bs">Pitchfork
Layout</a></li>
<li><a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p1204r0.html">Canonical
Project Structure</a></li>
<li><a href="https://cliutils.gitlab.io/modern-cmake/chapters/basics/structure.html">How
to structure your project</a></li>
</ul>
</li>
</ul>
<h2 id="version-control-on-projects">Version Control on Projects<a class="headerlink" href="#version-control-on-projects" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Guide: How I version control
with git (Best Practices)
</p>
</blockquote>
<p>Version control helps you keep track of changes that you make to the
project. It helps you a restore point in case you mess-up some change
(Believe me that it will happen in almost every project!!) while keeping
track of all the progress you make.</p>
<p>There are many version control options: - Manual Versioning (You make
copies of files with V.. next to the folder name. Kill me but don’t do
this.) - Git - Plastic SCM - Many more..</p>
<h3 id="base-rules">Base Rules<a class="headerlink" href="#base-rules" title="Permanent link">&para;</a></h3>
<p>There are some rules you should follow for a better version control
over your project: - One Change per commit: Do not overcrowd too much
changes in a single commit. Single change per commit ensures that each
change is seperated and can be individually visited and modified rather
than drastic changes. - Test and build commits: Make sure to automate
tests for each commits or push to github so that the commits can verify
the production. This ensures that wrong changes are not commited. - Good
Commit Messages: Good Commit messages help others (and future you) to
understand what exactly did a change do and how it will affect the
code.</p>
<h3 id="tips_2">Tips<a class="headerlink" href="#tips_2" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.conventionalcommits.org/en/v1.0.0/">Guide to
Commit Messages Properly</a></li>
</ul>
<h2 id="static-analysis-for-cc">Static Analysis for C/C++<a class="headerlink" href="#static-analysis-for-cc" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Guide: Static Analysis for
C/C++ with cppcheck (+Makefile)
</p>
</blockquote>
<p>A static analysis acts like a proof-reader for your project. It
performs various checks like grammer check in MS Word. It suggest ways
to improve code flow, correct logical errors or reduce non-reachable
parts of code. There are many options to integrate Static Analysis to
your project. One of the opensource available option is
<code>cppcheck</code>.</p>
<p>You can integrate <code>cppcheck</code> in your Makefile to automate
the checking.</p>
<p>Install <code>cppcheck</code> on your system from a new terminal:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>cppcheck
</span></code></pre></div>
<p>Amend the Makefile to integrate <code>cppcheck</code> as follows:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a># CPPCHECK
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>CPPCHECK = cppcheck
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>CPPCHECK_FLAGS = --quiet --enable=all --error-exitcode=1 --inline-suppr
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>cppcheck:
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>    $(CPPCHECK) $(CPPCHECK_FLAGS)\
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>        -I $(INCLUDE_DIR)\
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>        $(SOURCES)
</span></code></pre></div>
<h2 id="simple-cicd-with-github">Simple CI/CD with GitHub<a class="headerlink" href="#simple-cicd-with-github" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Guide: Simple CI/CD with
GitHub Actions and Docker (Compile+Analysis)
</p>
</blockquote>
<h3 id="basics">Basics<a class="headerlink" href="#basics" title="Permanent link">&para;</a></h3>
<p><strong>CI</strong> stands for <strong>C</strong>ontinuous
<strong>I</strong>ntegration</p>
<p><strong>CD</strong> stands for <strong>C</strong>ontinuous
<strong>D</strong>elivery/<strong>C</strong>ontinuous
<strong>D</strong>eployment.</p>
<p>CI/CD helps you to automate various processing and set rules to your
git project. You can integrate docker with git to automatically host
changes and build files on GitHub.</p>
<p><strong>Truly, you can define work of CI/CD as a system that stops
you from merging code that does not work.</strong> Correct code will the
analysed and deployed whereas incorrect code will fail to merge.</p>
<p>Workflow can be as follows:</p>
<pre class="mermaid"><code>stateDiagram-v2
[*] --&gt; Branch
Branch --&gt; cc
cc --&gt; bcpp
bcpp --&gt; Commit
Commit --&gt; Push
Push --&gt; pr
pr --&gt; ga
state ga {
  [*] --&gt; Make
  Make --&gt; Analyse
  Analyse --&gt; [*]
  }
ga --&gt; Merge : Success
ga --&gt; Rework : Failure

Rework --&gt; cc
Merge --&gt; [*]

cc : Code Change
bcpp : Build + CppCheck
pr : Pull Request
ga : GitHub Actions</code></pre>
<p>GitHub Actions runs the Job inside a Linux Virtual Machine. You can
setup a docker container if you want to setup custom commands and
develop cross-platform tools.</p>
<h3 id="setup-essentials">Setup Essentials<a class="headerlink" href="#setup-essentials" title="Permanent link">&para;</a></h3>
<p>You firstly need docker in your system to make a docker image that
can be hosted somewhere for GitHub to fetch during GiHub
Actions(GA).</p>
<p>Install Docker:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>docker.io
</span></code></pre></div>
<p>Since we are going to work with this often and this requires admin
access, to avoid <code>sudo</code> often, we will create a docker group
and add user to it.</p>
<p>Create Group by name <code>docker</code></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>sudo<span class="w"> </span>groupadd<span class="w"> </span>docker
</span></code></pre></div>
<p>Add User to this group</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>docker<span class="w"> </span><span class="nv">$USER</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>newgrp<span class="w"> </span>docker
</span></code></pre></div>
<h3 id="dockerfile">dockerfile<a class="headerlink" href="#dockerfile" title="Permanent link">&para;</a></h3>
<p>Dockerfile is used to set the base os for the action. It can be used
to install essential dependencies and needed tools.</p>
<p>Now move to the project directory, and create a new folder
<code>tools</code> if it does not exist. <code>cd</code> into
<code>tools</code>.</p>
<p>Create a new file to write the docker commands</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>touch<span class="w"> </span>dockerfile
</span></code></pre></div>
<p>Make the dockerfile with the following code:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>FROM ubuntu:23.04
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a># Install necessary packagesRUN DEBIAN_FRONTEND=noninteractive \    apt-get update \    &amp;&amp; apt-get install -y wget bzip2 make unzip cppcheck
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a># Create a non-root user named &quot;ubuntu&quot;# But put it in root group since GitHub actions need permissions to create temp filesRUN useradd -rm -d /home/ubuntu -s /bin/bash -g root -G sudo \    -u 1001 msp
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a># Set correct ownership and permissionRUN chown -R msp:root /home/ubuntu
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>RUN chmod -R 755 /home/ubuntu
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>USER msp
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>WORKDIR /home/ubuntu
</span></code></pre></div>
<h3 id="code-explaination">Code Explaination<a class="headerlink" href="#code-explaination" title="Permanent link">&para;</a></h3>
<p>Set the base OS Image for docker.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>FROM ubuntu:23.04
</span></code></pre></div>
<p>This sets the DEBIAN_FRONTEND environment variable to noninteractive,
as explained in the previous responses. It ensures that package
installations will not prompt for user input and will use default
options instead.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>RUN DEBIAN_FRONTEND=noninteractive
</span></code></pre></div>
<p>This command updates the package lists from the repositories to
ensure you are installing the latest versions of packages.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>apt-get update
</span></code></pre></div>
<p>Install the essential packages needed for actions. <code>-y</code>
flag allows to automatically answer <code>yes</code> to any prompts.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>apt-get install -y wget bzip2 make unzip cppcheck
</span></code></pre></div>
<p>Create a new user named “ubuntu” with the following options: -
<code>rm</code>: Remove the user’s home directory if it already exists
(prevents conflicts). - <code>d /home/ubuntu</code>: Set the home
directory for the user to /home/ubuntu. - <code>s /bin/bash</code>: Set
the default shell for the user to /bin/bash. - <code>g root</code>: Add
the user to the “root” primary group. - <code>G sudo</code>: Add the
user to the “sudo” supplementary group, which allows the user to execute
commands with elevated privileges when using the sudo command. -
<code>u 1001</code>: Set the user ID to 1001 (it’s not recommended to
use the default user ID 1000 because it might conflict with a host user
with the same ID). - <code>USER msp</code>: This sets the default user
to “msp” meaning any subsequent commands in the Dockerfile and when the
container runs will execute under this non-root user’s context. This
enhances security by avoiding running processes with root
privileges.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>RUN useradd -rm -d /home/ubuntu -s /bin/bash -g root -G sudo -u 1001 msp
</span></code></pre></div>
<p>Set the working directory to /home/ubuntu, meaning any commands that
follow will be executed relative to this directory.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>WORKDIR /home/ubuntu
</span></code></pre></div>
<h3 id="build-the-basic-docker-image">Build the basic docker image<a class="headerlink" href="#build-the-basic-docker-image" title="Permanent link">&para;</a></h3>
<ul>
<li><code>msp430gcc</code> is the docker container name. You can name it
anything you want.</li>
<li><code>.</code> is the location of the directory. Since we are
running it from the <code>tools</code> directory, we use
<code>.</code></li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>msp430gcc<span class="w"> </span>.
</span></code></pre></div>
<p>After the install is complete, look for all available docker images
using:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>docker<span class="w"> </span>images
</span></code></pre></div>
<p>The output will be as follows:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>msp430gcc<span class="w">                       </span>latest<span class="w">    </span>5ea5cd5de2fe<span class="w">   </span><span class="m">5</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">   </span>174MB
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>ubuntu<span class="w">                          </span><span class="m">23</span>.04<span class="w">     </span>1ed313b0551f<span class="w">   </span><span class="m">6</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">     </span><span class="m">70</span>.3MB
</span></code></pre></div>
<p><code>msp430gcc</code> is our base docker that we will use moving
forward to integrate our toolchains with it.</p>
<h3 id="adding-msp430">Adding MSP430<a class="headerlink" href="#adding-msp430" title="Permanent link">&para;</a></h3>
<p>Toolchain to base docker image</p>
<p>We can choose to fetch the toolchain directly from the TI website
during the CI process but we choose to create a docker image with a
fixed version of MSP430 GCC Toolchain instead because as changes are
made to the toolchain by msp430, the url might change. This might break
the process of fetching. To avoid this issue, we will modify the docker
image of ubuntu to have msp430 toolchain inside to avoid the fetching
issue.</p>
<p>Login into the docker container using:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--interactive<span class="w"> </span>msp430gcc<span class="w"> </span>--tty<span class="w"> </span>/bin/bash
</span></code></pre></div>
<p>This will load the bash terminal of the docker image just
created.</p>
<p>Open the TI’s website to download the latest version of ToolChain and
Support Files available. At current time, it is: - <a href="https://dr-download.ti.com/software-development/ide-configuration-compiler-or-debugger/MD-LlCjWuAbzH/9.3.1.2/msp430-gcc-9.3.1.11_linux64.tar.bz2">Mitto
Systems GCC 64-bit Linux - toolchain only(V9.3.1.11)</a> - <a href="https://dr-download.ti.com/software-development/ide-configuration-compiler-or-debugger/MD-LlCjWuAbzH/9.3.1.2/msp430-gcc-support-files-1.212.zip">Header
and Support Files</a></p>
<p>Download them into the launch docker container using wget:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>wget<span class="w"> </span>https://dr-download.ti.com/software-development/ide-configuration-compiler-or-debugger/MD-LlCjWuAbzH/9.3.1.2/msp430-gcc-support-files-1.212.zip
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>wget<span class="w"> </span>https://dr-download.ti.com/software-development/ide-configuration-compiler-or-debugger/MD-LlCjWuAbzH/9.3.1.2/msp430-gcc-9.3.1.11_linux64.tar.bz2
</span></code></pre></div>
<p>Unzip the files:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>tar<span class="w"> </span>xvjf<span class="w"> </span>msp430-gcc-9.3*unzip<span class="w"> </span>msp430-gcc-support*
</span></code></pre></div>
<p>Move the <code>include</code> directory from MSP430 Support files to
<code>include</code> directory of MSP430 toolchain.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>mv<span class="w"> </span>msp430-gcc-support-files/include/*<span class="w"> </span>msp430-gcc-9.3.1.11_linux64/include/
</span></code></pre></div>
<p>Create the <code>dev/tools/</code> directory like we have in our
computer for toolchain to be placed:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>dev/tools
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>mv<span class="w"> </span>msp430-gcc-9.3.1.11_linux64<span class="w"> </span>dev/tools/msp430-gcc
</span></code></pre></div>
<p>Clear all extra files and exit container:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>rm<span class="w"> </span>-rf<span class="w"> </span>msp*exit
</span></code></pre></div>
<p>Find the container ID of this docker session and commit it into a new
image:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</span></code></pre></div>
<p>The output of all sessions will be as follows:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">          </span>COMMAND<span class="w">                  </span>CREATED<span class="w">             </span>STATUS<span class="w">                         </span>PORTS<span class="w">     </span>NAMES
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>090b39853eec<span class="w">   </span>msp430gcc<span class="w">      </span><span class="s2">&quot;/bin/bash&quot;</span><span class="w">              </span><span class="m">4</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">       </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">                 </span>sleepy_vaughan
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>ec716a782125<span class="w">   </span>msp430gcc<span class="w">      </span><span class="s2">&quot;/bin/bash&quot;</span><span class="w">              </span><span class="m">43</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">      </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="m">40</span><span class="w"> </span>minutes<span class="w"> </span>ago<span class="w">                </span>funny_tu
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a>d31d9b3d22fe<span class="w">   </span>87ada84a26e8<span class="w">   </span><span class="s2">&quot;/bin/bash&quot;</span><span class="w">              </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w"> </span>ago<span class="w">   </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="o">)</span><span class="w"> </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w"> </span>ago<span class="w">             </span>laughing_jackson
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a>71e460a0c533<span class="w">   </span>72c77c8a3a9e<span class="w">   </span><span class="s2">&quot;/bin/bash&quot;</span><span class="w">              </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w"> </span>ago<span class="w">   </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="o">)</span><span class="w"> </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w"> </span>ago<span class="w">             </span>upbeat_kare
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>99c1ee5b66eb<span class="w">   </span>89d2dbc25de6<span class="w">   </span><span class="s2">&quot;/bin/sh -c &#39;useradd…&quot;</span><span class="w">   </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w"> </span>ago<span class="w">   </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">9</span><span class="o">)</span><span class="w"> </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w"> </span>ago<span class="w">             </span>pedantic_shannon
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a>b0827366987b<span class="w">   </span>6fee5ce39d5d<span class="w">   </span><span class="s2">&quot;/bin/sh -c &#39;useradd…&quot;</span><span class="w">   </span><span class="m">2</span><span class="w"> </span>hours<span class="w"> </span>ago<span class="w">         </span>Exited<span class="w"> </span><span class="o">(</span><span class="m">9</span><span class="o">)</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>hours<span class="w"> </span>ago<span class="w">                   </span>exciting_keller
</span></code></pre></div>
<p>Save the topmost session as new docker image. Write the name of new
docker image in following format:
<code>&lt;docker-hub-username&gt;/&lt;toolchain-version&gt;</code>. This
will allow for a simple push to the docker hub ahead.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>docker<span class="w"> </span>commit<span class="w"> </span>090b39853eec<span class="w"> </span>parth2007/msp430-gcc-9.3.1.11
</span></code></pre></div>
<p>Check for the new docker image by using:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>docker<span class="w"> </span>images
</span></code></pre></div>
<h3 id="pushing-to-docker-hub">Pushing to Docker Hub<a class="headerlink" href="#pushing-to-docker-hub" title="Permanent link">&para;</a></h3>
<p>For Github to fetch this image, we need to make sure that this is
available somewhere to access it. We will be placing this docker image
at <a href="https://hub.docker.com/">dockerhub</a>.</p>
<ol>
<li>Create Account/Login into docker hub.</li>
<li>Configure connection to docker hub on your terminal using:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>docker<span class="w"> </span>login
</span></code></pre></div>
<p>Enter the <code>USER ID</code> and <code>PASSWORD</code> from docker
hub to login into docker hub from terminal. 3. After successful login,
push the image to docker hub by:
<code>bash   docker push parth2007/msp430-gcc-9.3.1.11:latest</code></p>
<p>This will take some time but you will be able to push the image to
the docker hub to access it from anywhere you want.</p>
<h3 id="creating-ci-system">Creating CI System<a class="headerlink" href="#creating-ci-system" title="Permanent link">&para;</a></h3>
<p>GitHub requires the CI File to be stored at a specific location
<code>&lt;root&gt;/.github/workflows</code>.</p>
<p>Make the <code>ci.yml</code> from project root as follows:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>.github/workflows<span class="w"> </span>-ptouch<span class="w"> </span>.github/workflows/ci.yml
</span></code></pre></div>
<p>Open the ci file and create the ci process as follows:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">]</span><span class="nt">jobs:  build_and_static_analysis:    runs-on: ubuntu-latest    container:      image: parth2007/msp430-gcc-9.3.1.11    steps:      - name: Checkout the repository        uses: actions/checkout@v3      - run: make      - run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">make cppcheck</span>
</span></code></pre></div>
<p>This GitHub Actions CI (Continuous Integration) configuration file
(ci.yml) automates the build and static analysis process for a
repository. Let’s break down the contents of the file:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">]</span>
</span></code></pre></div>
<p>This line specifies the trigger event that activates the CI workflow.
In this case, the workflow will be triggered whenever there is a “push”
event to the repository. This means that the CI process will run
whenever code is pushed to the repository.</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="nt">jobs:  build_and_static_analysis:    runs-on: ubuntu-latest    container:      image: parth2007/msp430-gcc-9.3.1.11    steps:      - name: Checkout the repository        uses: actions/checkout@v3      - run: make      - run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">make cppcheck</span>
</span></code></pre></div>
<p>This section defines the actual CI job named
“build_and_static_analysis.” It specifies the operating environment for
the job, which is “ubuntu-latest,” meaning the CI process will run on
the latest version of Ubuntu available in the GitHub Actions
environment.</p>
<p>The <code>container</code> section allows the job to run inside a
Docker container with the specified image
(<code>parth2007/msp430-gcc-9.3.1.11</code>). This image contains the
necessary tools and dependencies required for building and analyzing
MSP430 projects using GCC 9.3.1.11.</p>
<p>The <code>steps</code> section lists the individual tasks that the CI
job will execute:</p>
<ol>
<li><code>Checkout the repository</code>: This step uses the
<code>actions/checkout</code> GitHub Action to fetch the latest code
from the repository. It ensures that the CI process has access to the
repository’s source code.</li>
<li><code>run: make</code>: This step executes the <code>make</code>
command. The <code>make</code> command is commonly used to build
projects based on Makefiles. It will likely build the MSP430
project.</li>
<li><code>run: make cppcheck</code>: This step executes the
<code>make cppcheck</code> command. It implies that there is a target in
the project’s Makefile called <code>cppcheck</code>, which likely runs
the static code analysis tool <code>cppcheck</code>. Static code
analysis helps identify potential bugs, coding issues, and other
problems in the codebase without actually executing the code.</li>
</ol>
<p>Overall, this CI workflow automates the process of building the
MSP430 project and performing static code analysis on it whenever
changes are pushed to the repository. The results of the CI process can
be viewed in the GitHub Actions tab of the repository. If there are any
build errors or static analysis issues, they will be reported in the CI
log, allowing the developers to take corrective actions.</p>
<h3 id="adding-branch-protection">Adding Branch Protection<a class="headerlink" href="#adding-branch-protection" title="Permanent link">&para;</a></h3>
<p>Rules</p>
<p>Branch Rules allow you to set a particular set of behavior for
developers to follow so that you can increase safety of the production
or main branch. One of those behaviors is to create branches from the
<code>main</code> everytime a change to the design/code needs to be
made. This ensures that even if you change breaks the system or
introduces a new bug, anyone using or code from the main branch can
avoid any issues related to the changes you just made.</p>
<p><a href="https://scribehow.com/embed/Step-by-Step_Guide_to_Adding_Branch_Protection_Rules_on_GitHub__jhhd0RRtTxujJiPrOpVHig">https://scribehow.com/embed/Step-by-Step_Guide_to_Adding_Branch_Protection_Rules_on_GitHub__jhhd0RRtTxujJiPrOpVHig</a></p>
<p>Your complete ci is going to fail after this because the Makefile
still points towards the directory address of the toolchain in your
computer rather than docker workchain. We need to ammend that.</p>
<h3 id="ammend-makefile-for-ci">Ammend Makefile for CI<a class="headerlink" href="#ammend-makefile-for-ci" title="Permanent link">&para;</a></h3>
<p>Modify the Makefile to change the path of toolchain. This can be done
by introducing a variable that takes <code>TOOLS_PATH</code> as
input.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>TOOLS_DIR = $(TOOLS_PATH)
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>$(info $(TOOLS_DIR))
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>MSP430_ROOT_DIR = $(TOOLS_DIR)/msp430-gcc
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>MSP430_INCLUDE_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a>MSP430_LINKER_DIR = $(MSP430_ROOT_DIR)/include/
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a>INCLUDE_DIR = $(MSP430_INCLUDE_DIR)
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>LIB_DIR = $(MSP430_LINKER_DIR)
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>BUILD_DIR = build
</span><span id="__span-55-9"><a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a>OBJ_DIR = $(BUILD_DIR)/obj
</span><span id="__span-55-10"><a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a>BIN_DIR = $(BUILD_DIR)/bin
</span></code></pre></div>
<p>We also need to make changed to the ci.yml so we can pass the
TOOLS_PATH as input to it.</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">]</span><span class="nt">jobs:  build_and_static_analysis:    runs-on: ubuntu-latest    container:      image: parth2007/msp430-gcc-9.3.1.11    steps:      - name: Checkout the repository        uses: actions/checkout@v3      - run: TOOLS_PATH=/home/ubuntu/dev/tools make      - run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TOOLS_PATH=/home/ubuntu/dev/tools make cppcheck</span>
</span></code></pre></div>
<p>After making these changes, push your code to GitHub to start the
implementation.</p>
<h3 id="how-to-use-it-moving">How to use it moving<a class="headerlink" href="#how-to-use-it-moving" title="Permanent link">&para;</a></h3>
<p>forwards?</p>
<p>The process moving forwards is simple: 1. Create a new local branch.
2. Edit the code to make the changes needed. 3. Test the changes at
local level using your makefile. 4. Commit and Push the code to github
using: <code>bash   git push -u origin &lt;branch-name&gt;</code> 5.
Accept the pull request on your mail branch. A CI Action will run before
the merge can be accepted. 6. If the CI Action is successful, confirm
merging with main branch. 7. Delete the branch both at local and remote
level. 8. Perform Git Pull on local branch <code>main</code>.</p>
<h3 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h3>
<p>Complete Guide to CI/CD from GitHub can be found at: - <a href="https://resources.github.com/ci-cd/">CI/CD: The what, why, and
how</a> - <a href="https://docs.github.com/en/actions/learn-github-actions">Learn
GitHub Actions</a></p>
<h2 id="documentation-and-clang">Documentation and Clang<a class="headerlink" href="#documentation-and-clang" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Guide: Documentation and Clang
format
</p>
</blockquote>
<h3 id="documentaion">Documentaion<a class="headerlink" href="#documentaion" title="Permanent link">&para;</a></h3>
<p>A good documentation README of a project contains following items: -
Project Name on Top. - Photos Showing the Project/Functionality. - A
Brief Writeup of how the project works. - A Small Write up on what
technology and design procedure have been used in project. - Project
Directory Structure showing how the files are organized. - Guide on how
to build/run the project. - Small explaination on how to the project
automation files work. - Write-up on any Tests present. - Commit Guide
for a new change - Schematic Diagram of the Hardware if any. - Guide on
how to generate/fetch Bill of Materials. - Software Architecture if
any</p>
<h3 id="clang-formatting">Clang-Formatting<a class="headerlink" href="#clang-formatting" title="Permanent link">&para;</a></h3>
<p>Most IDE that you use can install dependencies that can format code
for you. But if you are working with multiple different systems,
different IDEs or Formatters can format code in different ways. To
create a uniform formatting pattern, external/manual formatting agents
can be used.</p>
<p><strong>clang-format</strong> is one of the commonly used free tool
available out there which can be used to set code formatting rules.</p>
<p>Install <strong>clang-format</strong> on your system using:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>clang-format
</span></code></pre></div>
<p>After the install, you need to create a <code>.clang-format</code>
file which holds all the rules for Formatting. There are various
available formats of formatting availale: - <code>LLVM</code> A style
complying with the LLVM coding standards - <code>Google</code> A style
complying with Google’s C++ style guide - <code>Chromium</code> A style
complying with Chromium’s style guide - <code>Mozilla</code> A style
complying with Mozilla’s style guide - <code>WebKit</code> A style
complying with WebKit’s style guide - <code>Microsoft</code> A style
complying with Microsoft’s style guide - <code>GNU</code> A style
complying with the GNU coding standards</p>
<p>Create the file in required format as follows:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>clang-format<span class="w"> </span>-style<span class="o">=</span>GNU<span class="w"> </span>-dump-config<span class="w"> </span>&gt;<span class="w"> </span>.clang-format
</span></code></pre></div>
<p>This will create a <code>.clang-format</code> as per the coding
standard available from these groups.</p>
<p>You can format a file using the command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>clang-format<span class="w"> </span>-i<span class="w"> </span>main.c
</span></code></pre></div>
<p>As you might have noticed, this is going to be tiring if you do this
for every file available, So to automate formatting on all files, you
can create a PHONY in Makefile.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>FORMATTER: clang-format
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>.PHONY: format
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a>format:
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a>  @$(FORMATTER) -i $(SOURCES)
</span></code></pre></div>
<p>Now, you can format all files by simply calling:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>make<span class="w"> </span>format
</span></code></pre></div>
<h3 id="integrating-formatting-with">Integrating Formatting with<a class="headerlink" href="#integrating-formatting-with" title="Permanent link">&para;</a></h3>
<p>CI/CD</p>
<p>clang-format can be integrated in CI using docker.</p>
<p>Update the <code>dockerfile</code> to install clang-format.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a># Install necessary packagesRUN DEBIAN_FRONTEND=noninteractive \    apt-get update \    &amp;&amp; apt-get install -y wget bzip2 make unzip cppcheck clang-format git
</span></code></pre></div>
<p>Follow the CI/CD Guide to update the image on dockerhub with this
clang-format.</p>
<p>Update the CI.yml to run a formatting check task:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run: make format &amp;&amp; git diff --quiet- run: TOOLS_PATH=/home/ubuntu/dev/tools make- run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TOOLS_PATH=/home/ubuntu/dev/tools make cppcheck</span>
</span></code></pre></div>
<h3 id="resources_1">Resources<a class="headerlink" href="#resources_1" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://clang.llvm.org/docs/index.html">Clang Official
Documentation</a></li>
<li>Lei Mao’s Log Book: <a href="https://leimao.github.io/blog/Clang-Format-Quick-Tutorial/">Format
C/C++ Using Clang-format</a></li>
<li>Clang Official Documentation: <a href="https://clang.llvm.org/docs/ClangFormatStyleOptions.html#configurable-format-style-options">Configurable
Format Style Options</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.525ec568.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>